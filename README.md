# ğŸ˜ Nomad-Next14-Tutorial

<img src="https://media.giphy.com/media/ObNTw8Uzwy6KQ/giphy.gif" width="30px"> `by Kyojin Hwang`
<img src="https://media.giphy.com/media/ObNTw8Uzwy6KQ/giphy.gif" width="30px">

## ğŸ’» Version

<img src="https://img.shields.io/badge/Node.js 20.12.1-339933?style=for-the-badge&logo=Node.js&logoColor=white">
<img src="https://img.shields.io/badge/NPM 10.5.0-346?style=for-the-badge&logo=npm&logoColor=red">
<img src="https://img.shields.io/badge/NPM 14.2.4-000000?style=for-the-badge&logo=next.js&logoColor=white">

## ğŸ“šCategory

- [ğŸ¬ Routing](#-Routing)

---

### ğŸ’¡ Install & Setting

### 1. í´ë”ìƒì„±

#### terminal ì—ì„œ í´ë”ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.

```bash
mkdir [í´ë”ëª…]
```

### 2. npm init -y ë° next ì„¤ì¹˜

```bash
// defaultê°’ìœ¼ë¡œ ì„¤ì •ëœ package.json ìƒì„±
npm init -y

// next ì„¤ì¹˜ ìµœì‹ ë²„ì „ìœ¼ë¡œ
npm install react@latest next@latest react-dom@latest
```

### 3. License ë³€ê²½

```json
{
  "name": "nomad-next14-tutorial",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "dev": "next dev"
  },
  "keywords": [],
  "author": "",
  // ì´ ë¶€ë¶„ ë³€ê²½
  "license": "MIT",
  "dependencies": {
    "next": "^14.2.4",
    "react": "^18.3.1",
    "react-dom": "^18.3.1"
  },
  "devDependencies": {
    "@types/node": "20.14.10",
    "@types/react": "18.3.3",
    "typescript": "5.5.3"
  }
}
```

---

## ğŸ¬ Routing

### 1ï¸âƒ£ Defining Routes

![alt text](segment.png)
(ì‚¬ì§„ì¶œì²˜ : [NextJS ê³µì‹í™ˆí˜ì´ì§€ Defining Routes](https://nextjs.org/docs/app/building-your-application/routing/defining-routes))

#### ğŸˆ Root Segment

- app ì•ˆì˜ í´ë” ë¡œ ë“¤ì–´ê°€ì§€ì•ŠëŠ” `page`ì™€ `layout`ì€ root segmentë‹¤.

#### ğŸˆ Page Create

- í´ë”ë¥¼ ìƒì„±í•˜ê³  page.tsx íŒŒì¼ì„ ìƒì„±í•˜ë©´ í˜ì´ì§€ê°€ ëœë‹¤.

![alt text](route-create.png)

---

### 2ï¸âƒ£ Not Found Routes

#### ğŸˆ 404 Error í˜ì´ì§€

- not-found.tsxë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.
- ì¼ë°˜ jsx ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ë©´ ëœë‹¤.

  ![alt text](route-404.png)

#### ğŸˆ Client Components Error

![alt text](image-1.png)

- í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ëŠ” ë§¨ìƒë‹¨ì— `"use client"` ê¸°ì…í•´ì¤€ë‹¤.

```javascript
"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";

export default function Navigation() {
  const path = usePathname();

  return (
    <nav>
      <ul>
        <li>
          <Link href="/">Home</Link> {path === "/" ? "ğŸ”¥" : ""}
        </li>
        <li>
          <Link href="/about-us">About Us</Link>{" "}
          {path === "/about-us" ? "ğŸ”¥" : ""}
        </li>
      </ul>
    </nav>
  );
}
```

---

### 3ï¸âƒ£ SSR vs CSR

- `React`
  - client side rendering
  - ë¸Œë¼ìš°ì €ê°€ rendering ì‘ì—…ì„ í•œë‹¤.
  - create-react-app ì„ ì‚¬ìš©í•˜ì—¬ appì„ ìƒì„±í•˜ë©´ client side application
- `Next`
  - server side rendering
  - ì„œë²„ê°€ rendering ì‘ì—…ì„ í•œë‹¤.

---

### 4ï¸âƒ£ Hydration

#### ğŸˆ Link Component

- react ì™€ ê°™ì´ í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œ ì‚¬ìš©ëœë‹¤.
- reload ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

### 5ï¸âƒ£ Layouts

#### ğŸˆ Layouts ì˜ rendering ë°©ì‹

```javascript
<Layout>
  <AboutLayout>
    <AboutUs />
  </AboutLayout>
</Layout>

1. ë ˆì´ì•„ì›ƒ ëœë”ë§
2. childrenìœ¼ë¡œ í•´ë‹¹ URLì— ë§ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ê°„ë‹¤.
```

---

### 6ï¸âƒ£ Route Group & Metadata

#### ğŸˆ Route Group

![alt text](next-route-group.png)
(ì‚¬ì§„ì¶œì²˜ : [NextJS ê³µì‹í™ˆí˜ì´ì§€ ë¼ìš°íŠ¸ ê²½ë¡œê·¸ë£¹](https://nextjs.org/docs/app/building-your-application/routing/route-groups))

- (íŒŒì¼ëª…) => () ë¥¼ í†µí•´ URLì— ì˜í–¥ì„ ì£¼ì§€ì•ŠëŠ”ë‹¤.
- ê·¸ë£¹ì„ ë§Œë“ ë‹¤.

  ![alt text](route-group.png)

#### ğŸˆ MetaData

[Nextjs ë©”íƒ€ë°ì´í„° ì„¤ëª…](https://nextjs.org/docs/app/building-your-application/optimizing/metadata)

[Nextjs ë©”íƒ€ë°ì´í„° í•¨ìˆ˜](https://nextjs.org/docs/app/api-reference/functions/generate-metadata#the-metadata-object)

- client componentì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

```javascript
//RootLayout.tsx
export const metadata: Metadata = {
  title: {
    // %s ëŠ” page.tsx ì˜ì—­ì—ì„œ ì§€ì •í•´ì¤€ title
    template: "%s | Template",
    // page.tsxì—ì„œ titleì„ ì§€ì •í•´ì£¼ì§€ ì•Šì„ ê²½ìš° [ê¸°ë³¸íƒ€ì´í‹€]
    default: "Loading...",
  },
  description: "Generated by Next.js",
};

//home.tsx
export const metadata = {
  // %s ê°€ ëœë‹¤.
  title: "HOME",
};

const Home = () => {
  return (
    <div>
      <h1>Hello!</h1>
    </div>
  );
};

export default Home;
```

### 6ï¸âƒ£ Dynamic Routes

```javascript
//static route
/about-us

//dynamic route
/movie/:id
/movie/14
```

#### ğŸˆ íŒŒì¼ëª…

- [paramsName] : `/movies/123` (123ì²˜ëŸ¼ paramsê°€ ë“¤ì–´ê°ˆìˆ˜ìˆë‹¤.)
  ![alt text](params.png)
- ex) http://localhost:3000/movies/123?region=kr&page=2 ë¡œ í˜ì´ì§€ ì§„ì…ì‹œ

```javascript
export default function MovieDetail(props) {
  console.log(props);
  return <h1>Movie!</h1>;
}

// ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.
{
  params: { id: "123" },
  searchParams: { region: "kr", page: "2" },
};
```

## ğŸ¬ Data Fetching

### 1ï¸âƒ£ Data `Client` & `Server` Fetch

- <a href="">Client Fetch</a>
- <a href="">Server Fetch</a>

### 2ï¸âƒ£ Loading Components

- ë§Œì•½ ì„œë²„ì—ì„œ `Loading ì´ ê±¸ë¦´ê²½ìš°` ë˜ëŠ” `ë¡œë”©ì„ ì¤„ê²½ìš°`
  <br /> `loading.tsx`ë¥¼ `ìƒì„±`í•´ì•¼ ë¡œë”©ë  ë•Œ ë„ í˜ì´ì§€ë¡œ ì´ë™ë˜ë©° í˜ì´ì§€ê°€ ë³´ì¸ë‹¤.

![alt text](loading.png)

### 3ï¸âƒ£ Parallel Requests

- getMovie ì—ì„œ 5ì´ˆì´í›„ date fetching ì„ í•  ê²½ìš°
  getvideos ë¥¼ 5ì´ˆì´í›„ ì‹¤í–‰í•œë‹¤.

![alt text](image.png)
![alt text](image-2.png)

- ğŸˆ ë³‘ë ¬ì  ì‚¬ìš© ë°©ë²• : promise.all ì„ ì‚¬ìš©í•˜ì—¬ ë™ì‹œì— await í•œë‹¤.

![alt text](image-3.png)
![alt text](image-4.png)
